using System;
using static System.Console;

namespace Агрегация_пример
{
    class Program
    {
        // Агрегация
        // 1. Класс, который описывает точку
        class Point
        {
            // Внутренние поля класса - координаты точки
            public double x;
            public double y;
        }

        // 2. Класс, который описывает линию
        class Line
        {
            public Point pt1 = null;
            public Point pt2 = null;
        }

        // 3. Класс, который описывает массив фигур
        class Figures
        {
            // 1. Внутренние поля класса
            public Point[] points; // массив точек
            public Line[] lines; // массив линий

            // 2. Конструктор класса
            public Figures()
            {
                points = null;
                lines = null;
            }

            // 3. Метод вывода элементов массива на экран
            public void Print()
            {
                WriteLine("Array points:");
                for (int i = 0; i < points.Length; i++)
                {
                    WriteLine("x = {0}, y = {1}", points[i].x, points[i].y);
                }
                WriteLine("Array lines:");
                for (int i = 0; i < lines.Length; i++)
                {
                    WriteLine("pt1.x = {0}, pt1.y = {1}", lines[i].pt1.x, lines[i].pt1.y);
                    WriteLine("pt2.x = {0}, pt2.y = {1}", lines[i].pt2.x, lines[i].pt2.y);
                }
            }
        }


        static void Main(string[] args)
        {
            //Console.WriteLine("Hello World!");
            // Демонстрация агрегации на примере классов Figures, Point, Line
            // 1. Создать экземпляр класса Figures
            Figures fg = new Figures();

            // 2. Создать массив из 5 точек, которые есть объектами класса Point
            //    объекта (экземпляра) класса Figures
            // 2.1. Выделить память для 5 элементов массива
            fg.points = new Point[5];

            // 2.2. Выделить память для каждого элемента массива
            //      и заполнить их значениями
            for (int i = 0; i < fg.points.Length; i++)
            {
                fg.points[i] = new Point();
                fg.points[i].x = i * i;
                fg.points[i].y = i * i * i;
            }

            // 3. Создать массив из 3 линий
            // 3.1. Выделить память для 3 элементов массива
            fg.lines = new Line[3];

            // 3.2. Выделить память для каждого элемента массива
            //      и заполнить их значениями
            for (int i = 0; i < fg.lines.Length; i++)
            {
                fg.lines[i] = new Line();
                fg.lines[i].pt1 = new Point();
                fg.lines[i].pt2 = new Point();
                fg.lines[i].pt1.x = i;
                fg.lines[i].pt1.y = i * 2;
                fg.lines[i].pt2.x = i * 3;
                fg.lines[i].pt2.y = i * i;
            }

            // 4. Вывести массив точек и линий на экран
            fg.Print();

        }
    }
}
